<!DOCTYPE html>
<html lang="ja">
<head>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WMNCJBT2');</script>
  <!-- End Google Tag Manager -->

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>å°†æ¥ã®ç›®æ¨™</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WMNCJBT2"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <header class="site-header">
    <a href="index.html">top</a>
    <a href="career.html">profile</a>
    <a href="about.html">strength</a>
    <a href="future.html">future</a>
  </header>

  <main class="content">
    <h1>å°†æ¥ã«ã¤ã„ã¦</h1>
    <h2>ç¾çŠ¶ã¨ç†æƒ³ã®æ¯”è¼ƒ</h2>

    <div class="chart-container">
      <section class="chart-section">
        <h2>ç¾åœ¨</h2>
        <canvas id="currentChart" width="300" height="300"></canvas>
        <p class="chart-comment">å‰µé€ åŠ›ã¨ã‚¿ã‚¤ãƒ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã«è‹¦æ‰‹æ„è­˜ãŒã‚ã‚Šã¾ã™ã€‚</p>
      </section>
      <div class="arrow">â†’</div>
      <section class="chart-section">
        <h2>ç†æƒ³</h2>
        <canvas id="idealChart" width="300" height="300"></canvas>
        <p class="chart-comment">ç·åˆåŠ›ã‚’é«˜ã‚ã‚‹ãŸã‚ã€ç‰¹ã«è‹¦æ‰‹åˆ†é‡ã‚’å¼·åŒ–ã—ãŸã„ã§ã™ã€‚</p>
      </section>
    </div>

    <section class="goal-section">
      <h2>ä»Šå¾Œã®ç›®æ¨™</h2>
      <ul class="goal-text">
        <li>è¨ˆç”»ã‚’ç«‹ã¦ã¦è¡Œå‹•ã™ã‚‹ç¿’æ…£ã‚’ã¤ã‘ã‚‹</li>
        <li>ä¸»ä½“çš„ã«å‹•ãã€æŒ‘æˆ¦ã‚’æã‚Œãªã„å§¿å‹¢ã‚’æŒã¤</li>
        <li>è‡ªåˆ†ã®æ„è¦‹ã‚’æŒã¡ã€ä»–è€…ã«ä¼ãˆã‚‹åŠ›ã‚’é¤Šã†</li>
      </ul>
    </section>

    <!-- ä¸Šéƒ¨ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ -->
    <button id="likeBtn" data-reaction="like">é ‘å¼µã£ã¦ï¼</button>
    

    <section class="future-section">
      <h2>å°†æ¥ã®å¤¢</h2>
      <p class="future-text">
        å°†æ¥ã®å¤¢ã¯ITã‚³ãƒ³ã‚µãƒ«ã‚¿ãƒ³ãƒˆã¨ã—ã¦ã€ä¼æ¥­ã®èª²é¡Œè§£æ±ºã«è²¢çŒ®ã™ã‚‹ã“ã¨ã§ã™ã€‚ITã®åŠ›ã§ç¤¾ä¼šã«è²¢çŒ®ã—ãŸã„ã¨ã„ã†æ€ã„ã‹ã‚‰ã€ITæ¥­ç•Œã‚’å¿—æœ›ã—ã¦ã„ã¾ã™ã€‚
      </p>
      <p class="future-text">
        ã‚³ãƒ³ã‚µãƒ«ã‚¿ãƒ³ãƒˆã¨ã„ã†è·ç¨®ã‚’ç›®æŒ‡ã™ç†ç”±ã¯ã€èª²é¡Œã®åˆ†æã‹ã‚‰ææ¡ˆã¾ã§ã®æµã‚Œã«ã‚„ã‚ŠãŒã„ã‚’æ„Ÿã˜ã‚‹ã¨åŒæ™‚ã«ã€äººã¨ã®å¯¾è©±ã‚’é€šã˜ã¦ä¿¡é ¼é–¢ä¿‚ã‚’ç¯‰ãã“ã¨ãŒå¥½ãã ã‹ã‚‰ã§ã™ã€‚
      </p>

      <!-- ä¸‹éƒ¨ã„ã„ã­ãƒœã‚¿ãƒ³ -->
      <button id="like-button">
        ğŸ‘ å¿œæ´ã—ã¾ã™ï¼
      </button>
    </section>
  </main>

  <script>
    // ã‚°ãƒ©ãƒ•æç”»
    const labels = ["ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³åŠ›", "è«–ç†çš„æ€è€ƒåŠ›", "ä¸»ä½“æ€§", "ã‚¿ã‚¤ãƒ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ", "å•é¡Œè§£æ±ºåŠ›", "å‰µé€ åŠ›"];
    const beforeData = [3, 2, 2, 1, 3, 1];
    const afterData = [5, 5, 5, 4, 5, 4];

    const createChartConfig = (data, label, color) => ({
      type: 'radar',
      data: {
        labels: labels,
        datasets: [{
          label: label,
          data: data,
          backgroundColor: 'rgba(0, 0, 0, 0)',
          borderColor: color,
          borderWidth: 2,
          pointBackgroundColor: color
        }]
      },
      options: {
        responsive: false,
        animation: {
          duration: 2000,
          easing: 'easeOutQuart'
        },
        scales: {
          r: {
            min: 0,
            max: 5,
            ticks: { stepSize: 1, backdropColor: 'transparent' },
            grid: { color: '#ccc' },
            pointLabels: { font: { size: 12, family: "'Zen Maru Gothic', sans-serif" } }
          }
        },
        plugins: { legend: { display: false } }
      }
    });

    window.addEventListener('DOMContentLoaded', () => {
      new Chart(document.getElementById("currentChart"), createChartConfig(beforeData, "ç¾åœ¨", "rgba(255,99,132,1)"));
      new Chart(document.getElementById("idealChart"), createChartConfig(afterData, "ç†æƒ³", "rgba(54,162,235,1)"));
    });

    // ä¸‹ã®å¿œæ´ã™ã‚‹ã­ãƒœã‚¿ãƒ³ã®å‡¦ç†
    const likeBtn = document.getElementById("like-button");
    likeBtn.addEventListener("click", () => {
      if (likeBtn.classList.contains("liked")) return;
      likeBtn.classList.add("liked");
      likeBtn.textContent = "ğŸ‘ ã‚ã‚ŠãŒã¨ã†ï¼";
      window.dataLayer.push({
        event: "like_click",
        button_id: "future-like"
      });
    });

    // ä¸Šéƒ¨ã®ã€Œã„ã„ã­ã€ã€Œã‚·ã‚§ã‚¢ã€ãƒœã‚¿ãƒ³ç”¨å…±é€šå‡¦ç†
    function setupReactionButton(buttonId) {
      const button = document.getElementById(buttonId);
      if (!button) return;

      button.addEventListener("click", () => {
        if (button.classList.contains("clicked")) return;
        button.classList.add("clicked");
        button.textContent = "ğŸ‘ ã‚ã‚ŠãŒã¨ã†ï¼";
        window.dataLayer.push({
          event: "reaction_click",
          reaction_type: button.getAttribute("data-reaction"),
          reaction_count: 1
        });
      });
    }

    setupReactionButton("likeBtn");
    setupReactionButton("shareBtn");
  </script>
</body>
</html>
